<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DVS sajt za izradu projekta</title>
</head>

<link rel="stylesheet" type="text/css" href="styles/dvs.css" />
<link rel="stylesheet" type="text/css" href="styles/icons.css" />

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<body >

    <h1>Na predlog profesora 
        izradjen je ovaj sajt <br> kako bi pratio 
        napredak izrade projekta iz predmeta <br>
        <u>Digitalni VLSI sistemi</u>
    </h1>
    <h2> </h2>
    <div class="linkovi">
        <!-- <a href="../index.html">Povratak na prvu stranicu</a> </div>-->

    
    <div id="header"> Download link projekta(neaktivan trenutno) </div>
    <div style="text-align: left;" id="content"> Izrada projekta 
        <h2 style="text-align: left;"> 09. feb 2026. </h2>
        <p class="project-text">

                
            Danas smo počeli izradu projekta. Konačno smo odradili LAB2 jer sko zaključili da nam je to pola posla. Dobar deo projekta 
            se svodi na LAB2. <br>
            Zajedno smo prosli svih 24 strane, doduše zbrzali smo deo sa primerima za filtere jer sko skontali da 
            je taj korak daleko od nas. <br> <br>

            Imali smo problema sa ILA-om ponovo. <br>
            Dodavanjem nje u VHDL kood, preko mark-debug komandi, dobili smo debug_cores xsa fajl <br>
            ALI <br>
            Kad probamo da dodamo u Hardware manager, alat nam izbacuje grešku da nije uspeo da nadje debug cores. 
            U nastavku prilažem sliku na uvid kao dokaz. Verujem da je ILA jako bitan deo izrade VLSI sistema i voleo bih da naučimo da je koristimo
            što pre. <br>

            <img src="img/1.png" width="40%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <img src="img/2.png" width="40%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">

            <br>
            U narednim danima počećemo sa izradom akceleratora, prvo osnovne potrebe a onda i bonuse.



        </p>

        <h2 style="text-align: left;"> 10. feb 2026. </h2>
        <p class="project-text">

            Danas smo se najviše pozabavili preliminarnom verzijom blok dizajna. Dodali smo Timer i ovako bi otprilike
            trebalo da izgleda naš finalni projekat, samo umesto acc_neg_image treba da stoji acc_image filter.

            <img src="img/3.1.png" width="100%" height="90%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <br>

            Axi_timer smo ostavili skroz bez interrupta jer smo zaključili da nam nije potreban jer ne odlučuje Timer kada treba da 
            izračina vreme.
            <br>
            Potom zmo započeli izradu našeg akumulatora odnosno komponente acc_image_filter. Ovo je neka naša zamisao po tekstu zadatka. <br>

            <img src="img/acc_filter_image.png" width="40%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <br>
            
            U okviru njega, ralizovaćemo kao posebne komponente BRAM i aritmetičku jedinicu pa ćemo ih posle kao komponente dodati
            u naš filter. <br>

            <img src="img/4.1.png" width="40%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <img src="img/5.1.png" width="40%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <br>

            Ispod ću priložiti kodove za obe komponente. Bram je kompletiran, razlikuje se malo sa slike, odnosno razdvojili smo 
            data_out na data_out_1 i data_out_2.<br>
            Komponenta acc_image_filter za sad ostaje nekompletirana.<br>

            <a href="text/BRAM.txt" target = "_blank"> BRAM</a><br>
            <a href="text/acc_image_filter.txt" target = "_blank"> acc_image_filter</a><br>

        </p>

        <h2 style="text-align: left;"> 13. feb 2026. </h2>
        <p class="project-text">

            Danas smo odradili dosta VHDL-a, promenili malo strukturu i arhitekturu. Dodali smo enable signal na BRAM. Napredak je veliki i trebalo nam je dosta vremena 
            da ukopimo sve ali uspeli smo. Verujem da je ovo danas najteži deo jer ako bude bude bilo teže ne znam dal ću izdržati psihički. 
            Posle duže razmišljanja i mozganja shvatili smo da treba da koristimo AXI Lite modul interfejs tako da smo orijentisali ideju oko toga. Realizovali
            smo axi_registers komponentu koja će biti jedna od podkomponenti zajedno sa BRAM-om, aritmetičkom jedinicom i možda komponentom za proširivanje slike.
            Dole prilažem sliku za primer. Prva slika je akcelerator iznutra, kad poređamo sve komponente.<br>
            <img src="img/Ukupo.drawio.png" width="90%" height="120%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <br>
            Ove dve slike predstavljaju BRAM i našu novu komponentu axi_registers. <br>
            <img src="img/axi_registers.drawio (1).png" width="40%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <img src="img/BRAM.drawio.png" width="40%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI">
            <br>
            Nova komponenta axi_registers treba da vodi računa o upisu i ispisu u interne registre, kako bi mogli da enkapsuliramo
            i zaboravimo na registre skroz. Preko registra <b>cfg_en</b> kontrolišemo ispis. Ostali registri su već uveliko poznati piscu i 
            čitaocima nadam se. Komponenta je napravljena prema axi_lite templejtu sa vezbi. Axi_lite mašina stanja je takodje realizovana u okviru ove komponente.
            Takođe, kako bi ulepšali pisanje odnosno učinili naš kood preglednijim koristili smo se package modulom axi_registers_pkg koji smo mi napravili.<br>
            Sa ovime nam ostaje da realizujemo još najmanje jednu, a najviše 2 komponente. Dole ću priložiti kodove:<br><br>

            <a href="text/BRAM_new.txt" target = "_blank"> novi BRAM</a><br>
            <a href="text/BRAM_tb.vhd" target = "_blank"> BRAM tb, fali enable</a><br><br>
            <a href="text/axi_register_pkg.txt" target = "_blank"> axi_register_pkg</a><br>
            <a href="text/axi_registers.txt" target = "_blank"> axi_registers</a><br>
            <a href="text/axi_registers_tb.txt" target = "_blank"> axi_registers_tb</a><br>

        </p>

        <h2 style="text-align: left;"> 15. feb 2026. </h2>
        <p class="project-text">

            Realizovali smo komponentu, koju smo privremeno nazvali <b>img_resize</b> jer nam je inicjalna ideja bila da BRAM-ove punimo sa vrednostima potrebnim
            za menjanje veličine slike. Komponenta je trebala da učitava vrednosti u zavisnosti od stanja signala <b>bord</b> i signala <b>radius</b> i na izlaz
            izbacivala vrednosti za procesiranje. Kako je ta logika bila ili previše komplikovana ili nemoguća odlučili smo se za drugačiji pristup. Ova
            komponenta služi da samo brine o tome šta ulazi u BRAM-ove i na izlaz daje naš pomerački prozor. Najveći problem je bio da je napravimo modularnom 
            u zavisnosti od veličine našeg prozora. Testirali smo je samo na prozoru 3x3, ispravićemo greške u budućnosti ako ih bud bilo. 
            <br>
            Komponenta BRAM koju smo realizovali je imala svoje probleme tako da smo i nju ispravili. Kompletnu logiku promene veličine prozora i hendlovanja
            ivičnih slučajeva implementiraćemo u našoj glavnoj komponenti. Videćemo kako funkcioniše taj pristup u narednim danima.
            <br>
            Dole ću priložiti sve komponente koje smo izmenjali: <br>
            <a href="vhdl1/BRAM.vhd" target = "_blank"> ispravljeni BRAM</a><br>
            <a href="vhdl1/BRAM_tb.vhd" target = "_blank"> ispravljeni BRAM_tb</a><br>
            <a href="vhdl1/img_resize.vhd" target = "_blank"> img_resize</a><br>
            <a href="vhdl1/img_resize_tb.vhd" target = "_blank"> img_resize_tb</a><br>
            <a href="vhdl1/axi_registers.vhd" target = "_blank"> axi_registers</a><br>
            <a href="vhdl1/axi_register_pkg.vhd" target = "_blank"> axi_registers_pkg</a><br>

        </p>

        <h2 style="text-align: left;"> 23. feb 2026. </h2>
        <p class="project-text">

            Dugo nisam updejtovao jer sam svakog dana mislio da ću završiti projekat i onda ću napisati post. Nažalost, projekat je zahtevniji
            nego što sam očekivao. Nismo stigli da ga uradimo do roka jer smo imali problema u realizaciji našeg akceleratora i komponente
            koja vodi računa o BRAM-ovima. Ostavićemo ispit za februarski rok(u martu), i adam se da ćemo ispraviti greške do tad. Trenutno
            obojica nemamo snage ni vremena više da se bavimo sa ovim, tako da trebalo bi da napravimo pauzu od nekoliko dana, pre 
            nego nastavimo sa izradom. <br>
            
            
            Uspeli smo da realizujemo komponentu koja vodi računa o BRAM-ovima i o širini slike, pa time popunjava naše registre
            w_k sa vrednostima koje odmah možemo da šaljemo na obradu. Uspeli smo da realizujemo sva proširenja, s time da 
            proširenje sa najbližim vrednostima pravi veće ili manje greške u zavisnosi od radiusa. Logika iza svih
            proširenja je da se u zavisnosi od radiusa, odredjeni broj ciklusa BRAM-ovi pune sa odredjenim vrednostima. Na taj
            način odredjeni broj taktova više stagniramo, ali mi deluje ta logika mnogo zdravije i bolje za implementaciju
            nego da pišemo previše if i case izjava. <br>
            
            Logika za proširenje sa konstantnim vrednostima, ili bez proširenja radi prelepo, problem nastaje kod proširenja
            sa najbližimvrednostima. Nismo dizajnirali arhitekturu koja može da podržava punjenje BRAM-ova koji se ne koriste,
            pa smo morali da realizujemo to svičovanjem internih registra window_k, koji vode računa o propagiranju
            signala kroz registre. Taj proces svičovanja uglavnom ima problem sa tajminogm, tako da smo za <b> gornji levi</b> i
            <b> donji levi</b> ugao imali greške. Drugačija logika je napravljena za gornju i donju stranicu. <br>
            Donja stranica bi se punila tako što kratko vežemo BRAM1, odnosno prvi BRAM na ulazu piksela, a gornju stanicu
            smo popunili tako što smo duplo(ili više) vezali neki od narednih izlaza BRAM(ova).
            Ispod ću navesti sliku koja pokazuje celu axi_image_block komponentu. <br>

            <img src="img/axi_image_block.drawio.png" width="90%" height="120%" align ="middle" hspace ="4" vspace ="4" alt="axi_image_block"> <br><br>

            Za kraj, imali smo problem u povezivanju svih komponenti. Nismo znali kako da napravimo testbench za tu komponentu, niti je znao AI tako
            da smo morali na slepo da radimo. Problem je nastao sa mode = '1' odnosno sa iylayom u Q9.7 formatu. Pokusali smo da realizujemo to
            ali nam alat javlja greske konstantno. Razlicitih priroda. Na kraju smo samo odustali. Videcemo kako ce da ide kroz koju nedelju. 
            Zasad cu ostaviti slike i kodove koje imamo zasad. Trebala bi nam pomoć neka, čisto kako bi znali kako da nastavimo dalje.
            <br>
            <img src="img/Ukupno2.drawio.png" width="90%" height=" 120%" align ="middle" hspace ="4" vspace ="4" alt="PAKI"> <br>
            <br>
            Ovo su greške koje smo dobijali na kraju, pretpostavljam da je problem kako sam realizovao q9.7, dobijao sam greške prvo
            da je previše DSP blokova iskorišćeno, pa sam tražio utehu u chatgpt-ju jer nisam znao šta mogu da uradim povodom toga,
            a nisam imao živaca da smišljam više, jer sam hteo da završimo do januarskog roka. Nažalost ipak ću morati da mozgam još o ovome.
            <br>
            <img src="img/timingIssue2.png" width="50%" height=" 50%" align ="middle" hspace ="4" vspace ="4" alt="PAKI"> <br>
            <br>
            
            <img src="img/timingSummary2.png" width="90%" height=" 100%" align ="middle" hspace ="4" vspace ="4" alt="PAKI"> <br>
            <br>
            
            Dodali smo i constrain file, kako bi možda rešili neke probleme. Kako prošle godine nismo stigli do tog dela u predmetu VLSI, što se projekta tiče,
            samo sam prekopirao uputstvo koje sam dobio od grešaka i sa interneta: <br>
            <img src="img/constrain.png" width="80%" height=" 80%"  align ="middle" hspace ="4" vspace ="4" alt="PAKI"> <br>
            I na kraju evo ispod realizacija izlaza. Oreginalni izlaz koji sam ja napravio je bio potpuno drugačiji, ali usled grešaka
            koje sam dobijao sam ga stalno menjao i nadogradjivao kako bi možda nešto proradilo. Promeniću ga skroz kada ga budem realiyovao ponovo.
            <br>

            <img src="img/Untitled.png" width="80%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI"> <br>
            mac_acc posle dodajemo na pixel_new_8 i pixel_new_16 samo na drugačiji način. <br><br>
            <img src="img/Untitled2.png" width="80%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI"> <br>
            <img src="img/Untitled3.png" width="50%" height="30%" align ="middle" hspace ="4" vspace ="4" alt="PAKI"> <br>


            Evo kodovi koje smo odradili, sve u sustini zajedno sa testbencevima:<br>
            <a href="danFINAL/acc_image_filter.vhd" target = "_blank"> acc_image_filter</a>
            <a href="danFINAL/acc_image_filter_tb.vhd" target = "_blank"> acc_image_filter_tb</a><br>
            <a href="danFINAL/axi_registers.vhd" target = "_blank"> axi_registers</a><br>
            <a href="danFINAL/axi_registers_tb.vhd" target = "_blank"> axi_registers_tb</a><br>
            <a href="danFINAL/axi_image_block.vhd" target = "_blank"> axi_image_block</a><br>
            <a href="danFINAL/axi_image_block_tb.vhd" target = "_blank"> axi_image_block_tb</a><br>
            <a href="danFINAL/BRAM.vhd" target = "_blank"> BRAM</a><br>
            <a href="danFINAL/BRAM_tb.vhd" target = "_blank"> BRAM_tb</a><br>
            <a href="danFINAL/main.c" target = "_blank"> main.c</a><br>

            
        
        </p>
    </div>



    <div style="text-align: left;" id="reklame"> Kutak za muziku
        <br>
        <br>
        <audio id="player" controls></audio> <br>
        <script src="scripts/player.js"></script>

        <button id="playpause" class="icon" onclick="playPauseAudio()"></button>

        <button id="next" class="icon" onclick="Next()"></button> <br>

        <h2 id="riff"> KLIKNI NA DUGME I</h2>
        <h2 id="riff"> PRESKOČI NA MNOGO DOBAR RIFF</h2>
        <button id="riff" class="icon" onclick="Riff()"></button>
    </div>



    <div style="text-align: left; background-color: rgba(184, 167, 167, 0.6);" id="Messagebox"> Ostavite nam poruku
        <form id="contact-form">
        <input
            type="text"
            name="name"
            placeholder="Vaše ime"
            required
            style="padding: 10px 50px;"
        />

        <br>

        <textarea
            name="message"
            placeholder="Poruka"
            rows="10"
            cols="30"
            required
            style="padding: 50px 160px;"
            
        ></textarea>

        <br><br>

        <button type="submit">Send</button>
        </form>

        <script>
        // Initialize EmailJS with your public key
        (function() {
            emailjs.init({
                publicKey: "oz1vCSXNWIjjO-kOM"
            });
        })();

        // Wait for DOM to load
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("contact-form");

            form.addEventListener("submit", function (e) {
                e.preventDefault();

                // Send email using EmailJS
                emailjs.sendForm(
                    "service_av6muak",    // Your service ID
                    "template_6k56kfe",   // Your template ID
                    this                  // The form element
                )
                .then(() => {
                    alert("Message sent successfully!");
                    form.reset();
                })
                .catch((error) => {
                    console.error("EmailJS Error:", error);
                    alert("Failed to send message. Error: " + error.text);
                });
            });
        });
        </script>
    </div>







    <!-- FOOTER -->
<footer class="footer">
    <p><b>Studenti:</b><br>
    Mihajlo Pavlović 21/0343<br>
    Jovan Jeremić 16/0554</p>

    <p><b>Profesori:</b><br>
    doc. dr Jelena Popović-Božović (jelena@etf.bg.ac.rs)<br>
    doc. dr Dragomir El Mezeni (elmezeni@etf.bg.ac.rs)</p>
</footer>

</body>
</html>